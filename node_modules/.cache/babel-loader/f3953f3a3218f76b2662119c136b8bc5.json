{"ast":null,"code":"import _slicedToArray from \"/Users/alexandroaguilar/Desarrollo/Backup/tiburon-master/aPOS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/alexandroaguilar/Desarrollo/Backup/tiburon-master/aPOS/src/components/ProductsControl.js\";\nimport React from 'react';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport AppContext from '../context/AppContext';\nimport { Dropdown } from 'office-ui-fabric-react/lib/Dropdown';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport { ComboBox } from 'office-ui-fabric-react/lib/index';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport moment from 'moment';\nimport axios from 'axios';\n\nclass ProductsControl extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._onCustomerChange = customer => {\n      this.setState({\n        customer\n      });\n    };\n\n    this._onProductChange = product => {\n      this.setState({\n        product\n      });\n    };\n\n    this._onAmmountChange = (e, ammount) => {\n      this.setState({\n        ammount\n      });\n    };\n\n    this._onPriceChange = (e, price) => {\n      this.setState({\n        selling_price: price\n      });\n    };\n\n    this._onIVAChange = (e, IVA) => {\n      this.setState({\n        IVA: IVA.key\n      });\n    };\n\n    this._onCashChange = (e, cash) => {\n      this.setState({\n        cash: cash.key\n      });\n    };\n\n    this._onMovementTypeChange = movementType => {\n      this.setState({\n        movementType: movementType.key\n      });\n\n      switch (movementType.key) {\n        case 1:\n          this.setState({\n            textFields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              sale_type: false,\n              description: true\n            }\n          });\n          break;\n\n        case 2:\n          this.setState({\n            textFields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              sale_type: false,\n              description: true\n            }\n          });\n          break;\n\n        case 3:\n          this.setState({\n            textFields: {\n              customer: true,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              sale_type: false,\n              description: true\n            }\n          });\n          break;\n\n        case 4:\n          this.setState({\n            textFields: {\n              customer: true,\n              product: true,\n              ammount: true,\n              price: true,\n              IVA: true,\n              cash: true,\n              sale_type: true,\n              description: true\n            }\n          });\n          break;\n\n        case 5:\n          this.setState({\n            textFields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              IVA: false,\n              cash: false,\n              sale_type: false,\n              description: true\n            }\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this._onSaleTypeChange = (e, sale_type) => {\n      this.setState({\n        sale_type: sale_type.key\n      });\n    };\n\n    this._onDescriptionChange = (e, description) => {\n      this.setState({\n        description\n      });\n    };\n\n    this._getCustomers = () => {\n      if (this.state.customers.length > 0) {\n        return this.state.customers;\n      }\n\n      let customers = this.props.customers.map(customer => ({\n        key: customer.customer_id,\n        text: customer.customer_name\n      }));\n      this.setState({\n        customers\n      });\n    };\n\n    this._onCustomersChange = (event, option, index, value) => {\n      //this is type change handler\n      if (this.state.customer === undefined) {\n        this.setState({\n          customer: value\n        });\n      } else {\n        this.setState({\n          customer: option.key\n        });\n      }\n    };\n\n    this._getProducts = () => {\n      if (this.state.products.length > 0) {\n        return this.state.products;\n      }\n\n      let products = this.props.products.map(product => ({\n        key: product.product_id,\n        text: product.product_name + ' ' + product.category_name,\n        cost_price: product.cost_price,\n        selling_price: product.selling_price\n      }));\n      this.setState({\n        products\n      });\n    };\n\n    this._onProductsChange = (event, option, index, value) => {\n      //this is type change handler\n      if (this.state.product === undefined) {\n        this.setState({\n          product: value\n        });\n      } else {\n        this.setState({\n          product: option.key,\n          selling_price: option.selling_price,\n          cost_price: option.cost_price\n        });\n      }\n    };\n\n    this.state = {\n      customer: null,\n      product: null,\n      ammount: '',\n      selling_price: '0',\n      cost_price: '0',\n      IVA: 0,\n      cash: 0,\n      movementType: null,\n      sale_type: 0,\n      description: '',\n      options: [{\n        key: 1,\n        text: 'Merma'\n      }, {\n        key: 2,\n        text: 'Prueba de control'\n      }, {\n        key: 3,\n        text: 'Cortesía'\n      }, {\n        key: 4,\n        text: 'Venta'\n      }, {\n        key: 5,\n        text: 'Consumo personal'\n      }],\n      customers: [],\n      products: [],\n      initialDisplayValue: '',\n      textFields: {\n        customer: false,\n        product: false,\n        ammount: false,\n        price: false,\n        IVA: false,\n        cash: false,\n        sale_type: false,\n        description: false\n      }\n    };\n  }\n\n  componentDidMount() {\n    this._getCustomers();\n\n    this._getProducts();\n  }\n\n  componentDidCatch(error) {\n    console.log(error);\n  }\n\n  render() {\n    return React.createElement(AppContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, context => React.createElement(\"div\", {\n      className: \"ProductsControl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ProductsControlPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(AddMovementPanel, {\n      person: context.state.user.personal_id,\n      customer: this.state.customer,\n      _onCustomerChange: this._onCustomerChange,\n      product: this.state.product,\n      _onProductChange: this._onProductChange,\n      ammount: this.state.ammount,\n      _onAmmountChange: this._onAmmountChange,\n      selling_price: this.state.selling_price,\n      _onPriceChange: this._onPriceChange,\n      cost_price: this.state.cost_price,\n      cash: this.state.cash,\n      _onCashChange: this._onCashChange,\n      IVA: this.state.IVA,\n      _onIVAChange: this._onIVAChange,\n      movementType: this.state.movementType,\n      _onMovementTypeChange: this._onMovementTypeChange,\n      sale_type: this.state.sale_type,\n      _onSaleTypeChange: this._onSaleTypeChange,\n      description: this.state.description,\n      _onDescriptionChange: this._onDescriptionChange,\n      options: this.state.options,\n      textFields: this.state.textFields,\n      initialDisplayValue: this.state.initialDisplayValue,\n      customers: this.state.customers,\n      _getCustomers: this._getCustomers,\n      _onCustomersChange: this._onCustomersChange,\n      products: this.state.products,\n      _getProducts: this._getProducts,\n      _onProductsChange: this._onProductsChange,\n      _showAlert: this.props._showAlert,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    })), React.createElement(ProductsControlHistory, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    })));\n  }\n\n}\n\nfunction AddMovementPanel(props) {\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        expanded = _React$useState2[0],\n        setExpanded = _React$useState2[1];\n\n  const handleMovementTypeChange = (event, option) => {\n    props._onMovementTypeChange(option);\n\n    setExpanded(false);\n    setTimeout(() => setExpanded('panel1'), 500);\n  };\n\n  const _getTotal = () => {\n    if (props.IVA === 1) return String(props.ammount * props.selling_price + props.ammount * props.selling_price * 0.16);\n    return String(props.ammount * props.selling_price);\n  };\n\n  const _handleSubmit = async () => {\n    console.log(props.sale_type + ' ' + props.movementType);\n\n    if (props.sale_type === 0 && props.movementType === 4) {\n      axios.post('http://localhost:8000/deposits', {\n        deposit_date: new Date(),\n        payment_type: 0,\n        customer: props.customer,\n        ammount: this.state.amount\n      }).then(response => {\n        props._showAlert('Agregado correctamente', 'Notificación');\n\n        this.setState({\n          customer: undefined,\n          paymentType: undefined,\n          amount: 0\n        });\n        console.log(response);\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n\n    axios.post('http://localhost:8000/sales', {\n      movement_date: new Date(),\n      customer: props.customer,\n      person: props.person,\n      product: props.product,\n      ammount: props.ammount,\n      selling_price: props.selling_price,\n      cost_price: props.cost_price,\n      IVA: props.IVA,\n      cash: props.cash,\n      movementType: props.movementType,\n      sale_type: props.sale_type,\n      description: props.description\n    }).then(response => {\n      console.log(response);\n\n      props._onCustomerChange(null);\n\n      props._onProductChange(null);\n\n      props._onAmmountChange(null, '');\n\n      props._onDescriptionChange(null, '');\n\n      props._showAlert('Agregado con éxito.', 'Éxito: ');\n    }).catch(error => {\n      console.log(error);\n    });\n    var product = await axios.put('http://localhost:8000/products/stock', {\n      product: props.product,\n      ammount: props.ammount\n    });\n    console.log(product);\n  };\n\n  return React.createElement(AppContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }, context => React.createElement(ExpansionPanel, {\n    expanded: expanded === 'panel1',\n    style: {\n      height: 24 + 'em',\n      overflowY: 'scroll'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322\n    },\n    __self: this\n  }, React.createElement(ExpansionPanelSummary, {\n    \"aria-controls\": \"panel1d-content\",\n    id: \"panel1d-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323\n    },\n    __self: this\n  }, React.createElement(Dropdown, {\n    label: \"Tipo de movimiento\",\n    selectedKey: props.movementType ? props.movementType : undefined,\n    onChange: handleMovementTypeChange,\n    placeholder: \"Selecciona movimiento\",\n    options: props.options,\n    styles: {\n      dropdown: {\n        width: 300\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  })), React.createElement(ExpansionPanelDetails, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337\n    },\n    __self: this\n  }, props.textFields.customer ? React.createElement(ComboBox, {\n    selectedKey: props.customer,\n    label: \"Cliente\",\n    allowFreeform: true,\n    autoComplete: \"on\",\n    options: props.customers,\n    onChange: props._onCustomersChange,\n    onResolveOptions: props._getCustomers,\n    text: props.initialDisplayValue,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338\n    },\n    __self: this\n  }) : null, props.textFields.product ? React.createElement(ComboBox, {\n    selectedKey: props.product,\n    label: \"Producto\",\n    allowFreeform: true,\n    autoComplete: \"on\",\n    options: props.products,\n    onChange: props._onProductsChange,\n    onResolveOptions: props._getProducts,\n    text: props.initialDisplayValue,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  }) : null, props.textFields.ammount ? React.createElement(TextField, {\n    label: \"Unidades\",\n    value: props.ammount,\n    onChange: props._onAmmountChange,\n    styles: {\n      fieldGroup: {\n        width: 300\n      }\n    },\n    autoComplete: \"off\",\n    type: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340\n    },\n    __self: this\n  }) : null, props.textFields.price ? React.createElement(TextField, {\n    label: \"Precio\",\n    value: props.selling_price,\n    onChange: props._onPriceChange,\n    styles: {\n      fieldGroup: {\n        width: 300\n      }\n    },\n    autoComplete: \"off\",\n    type: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341\n    },\n    __self: this\n  }) : null, props.textFields.IVA ? React.createElement(Dropdown, {\n    label: \"IVA\",\n    selectedKey: props.IVA ? props.IVA : undefined,\n    onChange: props._onIVAChange,\n    placeholder: \"Selecciona...\",\n    options: [{\n      key: 0,\n      text: 'Sin IVA'\n    }, {\n      key: 1,\n      text: 'Con IVA'\n    }],\n    styles: {\n      dropdown: {\n        width: 300\n      }\n    },\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342\n    },\n    __self: this\n  }) : null, props.textFields.sale_type ? React.createElement(Dropdown, {\n    label: \"Tipo de venta\",\n    selectedKey: props.sale_type ? props.sale_type : undefined,\n    onChange: props._onSaleTypeChange,\n    placeholder: \"Selecciona...\",\n    options: [{\n      key: 0,\n      text: 'Contado'\n    }, {\n      key: 1,\n      text: 'Consignación'\n    }],\n    styles: {\n      dropdown: {\n        width: 300\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343\n    },\n    __self: this\n  }) : null, props.textFields.description ? React.createElement(TextField, {\n    label: \"Descripci\\xF3n\",\n    value: props.description,\n    onChange: props._onDescriptionChange,\n    styles: {\n      fieldGroup: {\n        width: 300\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344\n    },\n    __self: this\n  }) : null, props.textFields.IVA ? React.createElement(TextField, {\n    label: \"Total: \",\n    value: _getTotal(),\n    onChange: props._onDescriptionChange,\n    styles: {\n      fieldGroup: {\n        width: 300\n      }\n    },\n    readOnly: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345\n    },\n    __self: this\n  }) : null, React.createElement(PrimaryButton, {\n    onClick: () => _handleSubmit(),\n    style: {\n      marginTop: '2em'\n    },\n    disabled: false,\n    text: \"Agregar\",\n    type: \"submit\",\n    allowDisabledFocus: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346\n    },\n    __self: this\n  })))));\n}\n\nclass ProductsControlHistory extends React.Component {\n  constructor() {\n    super();\n\n    this._animateTableAppear = () => {\n      let animation = setInterval(() => {\n        this.setState({\n          tableAnimation: this.state.tableAnimation + 0.1\n        });\n      }, 10);\n      setTimeout(() => {\n        this.setState({\n          tableAnimation: 1\n        });\n        clearInterval(animation);\n      }, 500);\n    };\n\n    this._animateTableDisappear = () => {\n      let animation = setInterval(() => {\n        this.setState({\n          tableAnimation: this.state.tableAnimation - 0.1\n        });\n      }, 10);\n      setTimeout(() => {\n        this.setState({\n          tableAnimation: 0\n        });\n        clearInterval(animation);\n      }, 500);\n    };\n\n    this._onMovementTypeChange = (e, movementType, _setMovements) => {\n      this.setState({\n        movementType: movementType.key\n      });\n\n      this._animateTableDisappear();\n\n      setTimeout(() => {\n        this._animateTableAppear();\n      }, 500);\n\n      switch (movementType.key) {\n        case 1:\n          _setMovements(movementType.key);\n\n          this.setState({\n            fields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              sale_type: false,\n              description: true\n            }\n          });\n          break;\n\n        case 2:\n          _setMovements(movementType.key);\n\n          this.setState({\n            fields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              sale_type: false,\n              description: true\n            }\n          });\n          break;\n\n        case 3:\n          _setMovements(movementType.key);\n\n          this.setState({\n            fields: {\n              customer: true,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              sale_type: false,\n              description: true\n            }\n          });\n          break;\n\n        case 4:\n          _setMovements(movementType.key);\n\n          this.setState({\n            fields: {\n              customer: true,\n              product: true,\n              ammount: true,\n              price: true,\n              IVA: true,\n              cash: true,\n              sale_type: true,\n              description: true\n            }\n          });\n          break;\n\n        case 5:\n          _setMovements(movementType.key);\n\n          this.setState({\n            fields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              IVA: false,\n              cash: false,\n              sale_type: false,\n              description: true\n            }\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.state = {\n      tableAnimation: 0,\n      tableDisplay: 'block',\n      movementType: null,\n      movements: [],\n      fields: {\n        customer: false,\n        product: false,\n        ammount: false,\n        price: false,\n        IVA: false,\n        cash: false,\n        sale_type: false,\n        description: false\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(AppContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496\n      },\n      __self: this\n    }, context => React.createElement(\"div\", {\n      className: \"ProductsControlPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: {\n        padding: 1 + 'em',\n        width: 40 + 'em',\n        height: 24 + 'em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      label: \"\",\n      selectedKey: this.state.movementType ? this.state.movementType : undefined,\n      onChange: (e, movementType) => this._onMovementTypeChange(e, movementType, context._setMovements),\n      placeholder: \"Selecciona...\",\n      options: [{\n        key: 1,\n        text: 'Merma'\n      }, {\n        key: 2,\n        text: 'Prueba de control'\n      }, {\n        key: 3,\n        text: 'Cortesía'\n      }, {\n        key: 4,\n        text: 'Venta'\n      }, {\n        key: 5,\n        text: 'Consumo personal'\n      }],\n      styles: {\n        dropdown: {\n          width: 300\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        overflowX: 'scroll',\n        height: 22.5 + 'em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: \"ProductsControlTable\",\n      style: {\n        opacity: this.state.tableAnimation,\n        display: this.state.tableDisplay\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    }, \"Producto\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506\n      },\n      __self: this\n    }, \"Fecha\\xA0\"), this.state.fields.customer ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507\n      },\n      __self: this\n    }, \"Cliente\\xA0\") : null, this.state.fields.price ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508\n      },\n      __self: this\n    }, \"Precio de venta\\xA0\") : null, React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509\n      },\n      __self: this\n    }, \"Cantidad\\xA0\"), this.state.fields.IVA ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }, \"IVA\\xA0\") : null, this.state.fields.sale_type ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511\n      },\n      __self: this\n    }, \"Tipo de venta\\xA0\") : null, React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512\n      },\n      __self: this\n    }, \"Descripci\\xF3n\\xA0\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }, \"Personal\\xA0\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516\n      },\n      __self: this\n    }, context.state.movements.map(movement => React.createElement(TableRow, {\n      hover: true,\n      key: movement.sale_id,\n      onClick: () => console.log(movement),\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }, movement.product_name), React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520\n      },\n      __self: this\n    }, moment(new Date(movement.sale_date)).format('DD/MM/YYYY')), this.state.fields.customer ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521\n      },\n      __self: this\n    }, movement.customer_name) : null, this.state.fields.price ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522\n      },\n      __self: this\n    }, \"$\", movement.selling_price) : null, React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }, movement.ammount), this.state.fields.IVA ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524\n      },\n      __self: this\n    }, movement.IVA === 0 ? 'No' : 'Si') : null, this.state.fields.sale_type ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525\n      },\n      __self: this\n    }, movement.sale_type === 0 ? 'Contado' : 'Consignación') : null, React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526\n      },\n      __self: this\n    }, movement.description), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527\n      },\n      __self: this\n    }, movement.personal_name)))))))));\n  }\n\n}\n\nexport default ProductsControl; //","map":{"version":3,"sources":["/Users/alexandroaguilar/Desarrollo/Backup/tiburon-master/aPOS/src/components/ProductsControl.js"],"names":["React","TextField","AppContext","Dropdown","ExpansionPanel","ExpansionPanelDetails","ExpansionPanelSummary","ComboBox","PrimaryButton","Table","TableBody","TableCell","TableHead","TableRow","Paper","moment","axios","ProductsControl","Component","constructor","props","_onCustomerChange","customer","setState","_onProductChange","product","_onAmmountChange","e","ammount","_onPriceChange","price","selling_price","_onIVAChange","IVA","key","_onCashChange","cash","_onMovementTypeChange","movementType","textFields","sale_type","description","_onSaleTypeChange","_onDescriptionChange","_getCustomers","state","customers","length","map","customer_id","text","customer_name","_onCustomersChange","event","option","index","value","undefined","_getProducts","products","product_id","product_name","category_name","cost_price","_onProductsChange","options","initialDisplayValue","componentDidMount","componentDidCatch","error","console","log","render","context","user","personal_id","_showAlert","AddMovementPanel","useState","expanded","setExpanded","handleMovementTypeChange","setTimeout","_getTotal","String","_handleSubmit","post","deposit_date","Date","payment_type","amount","then","response","paymentType","catch","movement_date","person","put","height","overflowY","dropdown","width","display","flexDirection","fieldGroup","marginTop","ProductsControlHistory","_animateTableAppear","animation","setInterval","tableAnimation","clearInterval","_animateTableDisappear","_setMovements","fields","tableDisplay","movements","padding","overflowX","opacity","movement","sale_id","cursor","sale_date","format","personal_name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport AppContext from '../context/AppContext';\nimport { Dropdown } from 'office-ui-fabric-react/lib/Dropdown';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport { ComboBox } from 'office-ui-fabric-react/lib/index';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport moment from 'moment';\nimport axios from 'axios';\n\nclass ProductsControl extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      customer: null,\n      product: null,\n      ammount: '',\n      selling_price: '0',\n      cost_price: '0',\n      IVA: 0,\n      cash: 0,\n      movementType: null,\n      sale_type: 0,\n      description: '',\n      options: [{key: 1, text: 'Merma'}, {key:2, text: 'Prueba de control'}, {key: 3, text: 'Cortesía'}, {key: 4, text: 'Venta'}, {key:5, text: 'Consumo personal'}],\n      customers: [],\n      products: [],\n      initialDisplayValue: '',\n      textFields: {\n        customer: false,\n        product: false,\n        ammount: false,\n        price: false,\n        IVA: false,\n        cash: false,\n        sale_type: false,\n        description: false,\n      }\n    }\n  }\n\n  componentDidMount() {\n    this._getCustomers();\n    this._getProducts();\n  }\n\n  _onCustomerChange = (customer) => {\n    this.setState({\n      customer\n    });\n  }\n\n  _onProductChange = (product) => {\n    this.setState({\n      product\n    });\n  }\n\n  _onAmmountChange = (e, ammount) => {\n    this.setState({\n      ammount\n    });\n  }\n\n  _onPriceChange = (e, price) => {\n    this.setState({\n      selling_price: price\n    });\n  }\n\n  _onIVAChange = (e, IVA) => {\n    this.setState({\n      IVA: IVA.key\n    });\n  }\n\n  _onCashChange = (e, cash) => {\n    this.setState({\n      cash: cash.key\n    });\n  }\n\n  _onMovementTypeChange = (movementType) => {\n    this.setState({\n      movementType: movementType.key\n    });\n    switch (movementType.key) {\n      case 1:\n        this.setState({\n          textFields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            sale_type: false,\n            description: true\n          }\n        });\n        break;\n      case 2:\n        this.setState({\n          textFields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            sale_type: false,\n            description: true\n          }\n        });\n        break;\n      case 3:\n        this.setState({\n          textFields: {\n            customer: true,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            sale_type: false,\n            description: true\n          }\n        });\n        break;\n      case 4:\n        this.setState({\n          textFields: {\n            customer: true,\n            product: true,\n            ammount: true,\n            price: true,\n            IVA: true,\n            cash: true,\n            sale_type: true,\n            description: true\n          }\n        });\n        break;\n      case 5:\n        this.setState({\n          textFields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            IVA: false,\n            cash: false,\n            sale_type: false,\n            description: true\n          }\n        });\n        break;\n      default:\n        break;\n    }\n  }\n\n  _onSaleTypeChange = (e, sale_type) => {\n    this.setState({\n      sale_type: sale_type.key\n    });\n  }\n\n  _onDescriptionChange = (e, description) => {\n    this.setState({\n      description\n    });\n  }\n\n  _getCustomers = () => {\n    if(this.state.customers.length > 0) {\n      return this.state.customers;\n    }\n    let customers = this.props.customers.map(customer => (\n      {key: customer.customer_id, text: customer.customer_name}\n    ));\n    this.setState({\n      customers\n    });\n  }\n\n  _onCustomersChange = (event, option, index, value) => { //this is type change handler\n    if(this.state.customer === undefined){\n      this.setState({\n        customer: value\n      })  \n    } else {\n      this.setState({\n        customer: option.key\n      })  \n    }\n  }\n\n  _getProducts = () => {\n    if(this.state.products.length > 0) {\n      return this.state.products;\n    }\n    let products = this.props.products.map(product => (\n      {key: product.product_id, text: product.product_name + ' ' + product.category_name, cost_price: product.cost_price, selling_price: product.selling_price}\n    ));\n    this.setState({\n      products\n    });\n  }\n\n  _onProductsChange = (event, option, index, value) => { //this is type change handler\n    if(this.state.product === undefined){\n      this.setState({\n        product: value\n      });\n    } else {\n      this.setState({\n        product: option.key,\n        selling_price: option.selling_price,\n        cost_price: option.cost_price\n      });\n    }\n  }\n\n  componentDidCatch(error) {\n    console.log(error);\n  }\n\n  render() {\n    return (\n      <AppContext.Consumer>\n      \t{context => (\n      \t\t<div className=\"ProductsControl\">\n            <div className=\"ProductsControlPanel\">\n              <AddMovementPanel\n                person={context.state.user.personal_id}\n                customer={this.state.customer} _onCustomerChange={this._onCustomerChange}\n                product={this.state.product} _onProductChange={this._onProductChange}\n                ammount={this.state.ammount} _onAmmountChange={this._onAmmountChange}\n                selling_price={this.state.selling_price} _onPriceChange={this._onPriceChange}\n                cost_price={this.state.cost_price}\n                cash={this.state.cash} _onCashChange={this._onCashChange}\n                IVA={this.state.IVA} _onIVAChange={this._onIVAChange}\n                movementType={this.state.movementType} _onMovementTypeChange={this._onMovementTypeChange}\n                sale_type={this.state.sale_type} _onSaleTypeChange={this._onSaleTypeChange}\n                description={this.state.description} _onDescriptionChange={this._onDescriptionChange}\n                options={this.state.options}\n                textFields={this.state.textFields}\n                initialDisplayValue={this.state.initialDisplayValue}\n                customers={this.state.customers} _getCustomers={this._getCustomers} _onCustomersChange={this._onCustomersChange}\n                products={this.state.products} _getProducts={this._getProducts} _onProductsChange={this._onProductsChange}\n                _showAlert={this.props._showAlert}\n              />\n            </div>\n            <ProductsControlHistory/>\n          </div>\n      \t)}\n      </AppContext.Consumer>\n    );\n  }\n  \n}\n\nfunction AddMovementPanel(props) {\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleMovementTypeChange = (event, option) => {\n    props._onMovementTypeChange(option);\n    setExpanded(false);\n    setTimeout(() => setExpanded('panel1'), 500);\n  }\n\n  const _getTotal = () => {\n    if(props.IVA === 1)\n     return String(props.ammount * props.selling_price + (props.ammount * props.selling_price * 0.16));\n    return String(props.ammount * props.selling_price);\n  }\n\n  const _handleSubmit = async () => {\n    console.log(props.sale_type + ' ' + props.movementType);\n    if (props.sale_type === 0 && props.movementType === 4) {\n      axios.post('http://localhost:8000/deposits', {deposit_date: new Date(), payment_type: 0, customer: props.customer, ammount: this.state.amount})\n      .then(response => {\n        props._showAlert('Agregado correctamente', 'Notificación');\n        this.setState({\n          customer: undefined,\n          paymentType: undefined,\n          amount: 0\n        });\n        console.log(response);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    }\n    axios.post('http://localhost:8000/sales', {movement_date: new Date(), customer: props.customer, person: props.person, product: props.product, ammount: props.ammount, selling_price: props.selling_price, cost_price: props.cost_price, IVA: props.IVA, cash:props.cash, movementType: props.movementType, sale_type: props.sale_type, description: props.description})\n    .then(response => {\n      console.log(response);\n      props._onCustomerChange(null);\n      props._onProductChange(null);\n      props._onAmmountChange(null, '');\n      props._onDescriptionChange(null, '');\n      props._showAlert('Agregado con éxito.', 'Éxito: ')\n    })\n    .catch(error => {\n      console.log(error);\n    });\n    var product = await axios.put('http://localhost:8000/products/stock', {product: props.product, ammount: props.ammount});\n    console.log(product);\n  }\n\n  return (\n    <AppContext.Consumer>\n      {context => (\n        <ExpansionPanel expanded={expanded === 'panel1'} style={{height: 24 + 'em', overflowY: 'scroll'}}>\n          <ExpansionPanelSummary\n            aria-controls=\"panel1d-content\"\n            id=\"panel1d-header\"\n          >\n            <Dropdown\n              label=\"Tipo de movimiento\"\n              selectedKey={props.movementType ? props.movementType : undefined}\n              onChange={handleMovementTypeChange}\n              placeholder=\"Selecciona movimiento\"\n              options={props.options}\n              styles={{ dropdown: { width: 300 } }}\n            />\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <div style={{display: 'flex', flexDirection: 'column'}}>\n              {props.textFields.customer ? <ComboBox selectedKey={props.customer} label=\"Cliente\" allowFreeform={true} autoComplete=\"on\" options={props.customers} onChange={props._onCustomersChange} onResolveOptions={props._getCustomers} text={props.initialDisplayValue} required/> : null}\n              {props.textFields.product ? <ComboBox selectedKey={props.product} label=\"Producto\" allowFreeform={true} autoComplete=\"on\" options={props.products} onChange={props._onProductsChange} onResolveOptions={props._getProducts} text={props.initialDisplayValue} required/> : null}\n              {props.textFields.ammount ? <TextField label=\"Unidades\" value={props.ammount} onChange={props._onAmmountChange} styles={{ fieldGroup: { width: 300 } }} autoComplete=\"off\" type=\"number\"/> : null}\n              {props.textFields.price ? <TextField label=\"Precio\" value={props.selling_price} onChange={props._onPriceChange} styles={{fieldGroup: {width: 300} }} autoComplete=\"off\" type=\"number\"/> : null}\n              {props.textFields.IVA ? <Dropdown label=\"IVA\" selectedKey={props.IVA ? props.IVA : undefined} onChange={props._onIVAChange} placeholder=\"Selecciona...\" options={[{ key: 0, text: 'Sin IVA' }, { key: 1, text: 'Con IVA' },]} styles={{ dropdown: { width: 300 } }} required/> : null}\n              {props.textFields.sale_type ? <Dropdown label=\"Tipo de venta\" selectedKey={props.sale_type ? props.sale_type : undefined} onChange={props._onSaleTypeChange} placeholder=\"Selecciona...\" options={[{ key: 0, text: 'Contado' }, { key: 1, text: 'Consignación' },]} styles={{ dropdown: { width: 300 } }}/> : null}\n              {props.textFields.description ? <TextField label=\"Descripción\" value={props.description} onChange={props._onDescriptionChange} styles={{ fieldGroup: { width: 300 } }}/> : null}\n              {props.textFields.IVA ? <TextField label=\"Total: \" value={_getTotal()} onChange={props._onDescriptionChange} styles={{ fieldGroup: { width: 300 } }} readOnly={true}/> : null}\n              <PrimaryButton onClick={() => _handleSubmit()} style={{marginTop: '2em'}} disabled={false} text=\"Agregar\" type=\"submit\" allowDisabledFocus={true}/>\n            </div>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n      )}\n    </AppContext.Consumer>\n  );\n}\n\nclass ProductsControlHistory extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      tableAnimation: 0,\n      tableDisplay: 'block',\n      movementType: null,\n      movements: [],\n      fields: {\n        customer: false,\n        product: false,\n        ammount: false,\n        price: false,\n        IVA: false,\n        cash: false,\n        sale_type: false,\n        description: false,\n      }\n    }\n  }\n\n  _animateTableAppear = () => {\n    let animation = setInterval(() => {\n      this.setState({\n        tableAnimation: this.state.tableAnimation + 0.1\n      });\n    }, 10);\n    setTimeout(() => {\n      this.setState({\n        tableAnimation: 1\n      });\n      clearInterval(animation);\n    }, 500);\n  }\n\n  _animateTableDisappear = () => {\n    let animation = setInterval(() => {\n      this.setState({\n        tableAnimation: this.state.tableAnimation - 0.1\n      });\n    }, 10);\n    setTimeout(() => {\n      this.setState({\n        tableAnimation: 0\n      });\n      clearInterval(animation);\n    }, 500);\n  }\n\n  _onMovementTypeChange = (e, movementType, _setMovements) => {\n    this.setState({\n      movementType: movementType.key\n    });\n    this._animateTableDisappear();\n    setTimeout(() => {\n      this._animateTableAppear();\n    }, 500);\n    \n    switch (movementType.key) {\n      case 1:\n        _setMovements(movementType.key);\n        this.setState({\n          fields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            sale_type: false,\n            description: true\n          }\n        });\n        break;\n      case 2:\n        _setMovements(movementType.key);\n        this.setState({\n          fields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            sale_type: false,\n            description: true\n          }\n        });\n        break;\n      case 3:\n        _setMovements(movementType.key);\n        this.setState({\n          fields: {\n            customer: true,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            sale_type: false,\n            description: true\n          }\n        });\n        break;\n      case 4:\n        _setMovements(movementType.key);\n        this.setState({\n          fields: {\n            customer: true,\n            product: true,\n            ammount: true,\n            price: true,\n            IVA: true,\n            cash: true,\n            sale_type: true,\n            description: true\n          }\n        });\n        break;\n      case 5:\n        _setMovements(movementType.key);\n        this.setState({\n          fields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            IVA: false,\n            cash: false,\n            sale_type: false,\n            description: true\n          }\n        });\n        break;\n    \n      default:\n        break;\n    }\n  }\n\n  render() {\n    return (\n      <AppContext.Consumer>\n        {context => (\n          <div className=\"ProductsControlPanel\">\n            <Paper style={{padding: 1 + 'em', width: 40 + 'em', height: 24 + 'em'}} >\n              <Dropdown label=\"\" selectedKey={this.state.movementType ? this.state.movementType : undefined} onChange={(e, movementType) => this._onMovementTypeChange(e, movementType, context._setMovements)} placeholder=\"Selecciona...\" options={[{key: 1, text: 'Merma'}, {key:2, text: 'Prueba de control'}, {key: 3, text: 'Cortesía'}, {key: 4, text: 'Venta'}, {key:5, text: 'Consumo personal'}]} styles={{ dropdown: { width: 300 } }}/>\n              <div style={{overflowX: 'scroll', height: 22.5 + 'em'}}>\n                <Table className=\"ProductsControlTable\" style={{opacity: this.state.tableAnimation, display: this.state.tableDisplay}}>\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>Producto</TableCell>\n                      <TableCell align=\"right\">Fecha&nbsp;</TableCell>\n                      {this.state.fields.customer ? <TableCell align=\"right\">Cliente&nbsp;</TableCell> : null}\n                      {this.state.fields.price ? <TableCell align=\"right\">Precio de venta&nbsp;</TableCell> : null}\n                      <TableCell align=\"right\">Cantidad&nbsp;</TableCell>\n                      {this.state.fields.IVA ? <TableCell align=\"right\">IVA&nbsp;</TableCell> : null}\n                      {this.state.fields.sale_type ? <TableCell align=\"right\">Tipo de venta&nbsp;</TableCell> : null}\n                      <TableCell align=\"right\">Descripción&nbsp;</TableCell>\n                      <TableCell align=\"right\">Personal&nbsp;</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {context.state.movements.map(movement => (\n                      <TableRow hover key={movement.sale_id} onClick={() => console.log(movement)} style={{cursor: 'pointer'}}>\n                        <TableCell component=\"th\" scope=\"row\">{movement.product_name}</TableCell>\n                        <TableCell component=\"th\" scope=\"row\">{moment(new Date(movement.sale_date)).format('DD/MM/YYYY')}</TableCell>\n                        {this.state.fields.customer ? <TableCell align=\"right\">{movement.customer_name}</TableCell> : null}\n                        {this.state.fields.price ? <TableCell align=\"right\">${movement.selling_price}</TableCell> : null}\n                        <TableCell align=\"right\">{movement.ammount}</TableCell>\n                        {this.state.fields.IVA ? <TableCell align=\"right\">{movement.IVA === 0 ? 'No' : 'Si'}</TableCell> : null}\n                        {this.state.fields.sale_type ? <TableCell align=\"right\">{movement.sale_type === 0 ? 'Contado' : 'Consignación'}</TableCell> : null}\n                        <TableCell align=\"right\">{movement.description}</TableCell>\n                        <TableCell align=\"right\">{movement.personal_name}</TableCell>\n                      </TableRow>\n                  ))}\n                  </TableBody>\n                </Table>\n              </div>\n            </Paper>\n          </div>\n        )}\n      </AppContext.Consumer>\n    );\n  }\n}\n\nexport default ProductsControl;\n\n//"]},"metadata":{},"sourceType":"module"}