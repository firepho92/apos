{"ast":null,"code":"import _objectSpread from \"/Users/alexandroaguilar/Desarrollo/Backup/tiburon-master/aPOS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/alexandroaguilar/Desarrollo/Backup/tiburon-master/aPOS/src/components/NewProduct.js\";\nimport React from 'react';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { Dropdown } from 'office-ui-fabric-react/lib/Dropdown';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport Paper from '@material-ui/core/Paper';\nimport axios from 'axios';\nimport AppContext from '../context/AppContext';\n\nclass NewProduct extends React.Component {\n  constructor() {\n    super();\n\n    this._getCategories = () => {\n      axios.get('http://177.246.228.199:8000/categories').then(response => {\n        console.log(this._formatCategories(response.data));\n        this.setState({\n          categories: this._formatCategories(response.data)\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this._formatCategories = rawCategories => {\n      let categories = rawCategories.map(category => ({\n        key: category.category_id,\n        text: category.category_name\n      }));\n      return categories;\n    };\n\n    this._onProductNameChange = (e, product_name) => {\n      this.setState({\n        product_name\n      });\n    };\n\n    this._onCostPriceChange = (e, cost_price) => {\n      this.setState({\n        cost_price\n      });\n    };\n\n    this._onSellingPriceChange = (e, selling_price) => {\n      this.setState({\n        selling_price\n      });\n    };\n\n    this._onDescriptionChange = (e, description) => {\n      this.setState({\n        description\n      });\n    };\n\n    this._onStockChange = (e, stock) => {\n      this.setState({\n        stock\n      });\n    };\n\n    this._onCategoryChange = (e, category) => {\n      console.log(category);\n      this.setState({\n        category: category.key\n      });\n    };\n\n    this.handleSubmit = (e, _showAlert) => {\n      e.preventDefault();\n      if (this.state.cost_price === '') this.setState({\n        cost_price: 0\n      });\n      axios.post('http://177.246.228.199:8000/products', _objectSpread({}, this.state)).then(response => {\n        console.log(response);\n\n        _showAlert('Creado correctamente', 'Notificación');\n\n        this.props._setProducts();\n\n        this.props._contextSetProducts();\n\n        setTimeout(() => {\n          this.props._setView(0);\n        }, 500);\n      }).catch(error => {\n        _showAlert('Intenta de nuevo.', 'Error');\n      });\n    };\n\n    this.state = {\n      product_name: '',\n      cost_price: '0',\n      selling_price: '0',\n      description: '',\n      stock: '',\n      status: true,\n      categories: [],\n      category: ''\n    };\n  }\n\n  componentDidMount() {\n    this._getCategories();\n  }\n\n  render() {\n    return React.createElement(AppContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, context => React.createElement(\"div\", {\n      className: \"Customers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: {\n        padding: 1.5 + 'em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => this.handleSubmit(e, context._showAlert),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      label: \"Nombre del producto\",\n      value: this.state.product_name,\n      onChange: this._onProductNameChange,\n      styles: {\n        fieldGroup: {\n          width: 300\n        }\n      },\n      required: true,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      label: \"Costo de producci\\xF3n\",\n      value: this.state.cost_price,\n      onChange: this._onCostPriceChange,\n      styles: {\n        fieldGroup: {\n          width: 300\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      label: \"Precio de venta sugerido\",\n      value: this.state.selling_price,\n      onChange: this._onSellingPriceChange,\n      styles: {\n        fieldGroup: {\n          width: 300\n        }\n      },\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      label: \"Descripci\\xF3n\",\n      value: this.state.description,\n      onChange: this._onDescriptionChange,\n      styles: {\n        fieldGroup: {\n          width: 300\n        }\n      },\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      label: \"Stock\",\n      value: this.state.stock,\n      onChange: this._onStockChange,\n      styles: {\n        fieldGroup: {\n          width: 300\n        }\n      },\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(Dropdown, {\n      label: \"Categor\\xEDa\",\n      selectedKey: this.state.category ? this.state.category : undefined,\n      onChange: this._onCategoryChange,\n      placeholder: \"Selecciona categor\\xEDa\",\n      options: this.state.categories,\n      styles: {\n        dropdown: {\n          width: 300\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(PrimaryButton, {\n      style: {\n        marginTop: '2em'\n      },\n      disabled: false,\n      text: \"Agregar\",\n      type: \"submit\",\n      allowDisabledFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default NewProduct;","map":{"version":3,"sources":["/Users/alexandroaguilar/Desarrollo/Backup/tiburon-master/aPOS/src/components/NewProduct.js"],"names":["React","TextField","Dropdown","PrimaryButton","Paper","axios","AppContext","NewProduct","Component","constructor","_getCategories","get","then","response","console","log","_formatCategories","data","setState","categories","catch","error","rawCategories","map","category","key","category_id","text","category_name","_onProductNameChange","e","product_name","_onCostPriceChange","cost_price","_onSellingPriceChange","selling_price","_onDescriptionChange","description","_onStockChange","stock","_onCategoryChange","handleSubmit","_showAlert","preventDefault","state","post","props","_setProducts","_contextSetProducts","setTimeout","_setView","status","componentDidMount","render","context","padding","fieldGroup","width","undefined","dropdown","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { Dropdown } from 'office-ui-fabric-react/lib/Dropdown';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport Paper from '@material-ui/core/Paper';\nimport axios from 'axios';\nimport AppContext from '../context/AppContext';\n\nclass NewProduct extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      product_name: '',\n      cost_price: '0',\n      selling_price: '0',\n      description: '',\n      stock: '',\n      status: true,\n      categories: [],\n      category: ''\n    }\n  }\n\n  componentDidMount() {\n    this._getCategories();\n  }\n\n  _getCategories = () => {\n    axios.get('http://177.246.228.199:8000/categories')\n    .then(response => {\n      console.log(this._formatCategories(response.data));\n      this.setState({\n        categories: this._formatCategories(response.data)\n      })\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  }\n\n  _formatCategories = (rawCategories) => {\n    let categories = rawCategories.map(category => (\n      {key: category.category_id, text: category.category_name}\n    ));\n    return categories;\n  }\n\n  _onProductNameChange = (e, product_name) => {\n    this.setState({\n      product_name\n    })\n  }\n\n  _onCostPriceChange = (e, cost_price) => {\n    this.setState({\n      cost_price\n    })\n  }\n\n  _onSellingPriceChange = (e, selling_price) => {\n    this.setState({\n      selling_price\n    })\n  }\n\n  _onDescriptionChange = (e, description) => {\n    this.setState({\n      description\n    })\n  }\n\n  _onStockChange = (e, stock) => {\n    this.setState({\n      stock\n    });\n  }\n\n  _onCategoryChange = (e, category) => {\n    console.log(category)\n    this.setState({\n      category: category.key\n    })\n  }\n\n  handleSubmit = (e, _showAlert) => {\n    e.preventDefault();\n    if(this.state.cost_price === '')\n      this.setState({cost_price: 0})\n    axios.post('http://177.246.228.199:8000/products', {...this.state})\n    .then(response => {\n      console.log(response)\n      _showAlert('Creado correctamente', 'Notificación');\n      this.props._setProducts();\n      this.props._contextSetProducts();\n      setTimeout(() => {this.props._setView(0)}, 500);\n    })\n    .catch(error => {\n      _showAlert('Intenta de nuevo.', 'Error');\n    });\n  }\n\n  render() {\n    return (\n      <AppContext.Consumer>\n      \t{context => (\n      \t\t<div className=\"Customers\">\n            <Paper style={{padding: 1.5 + 'em'}}>\n              <form onSubmit={e => this.handleSubmit(e, context._showAlert)}>\n                <TextField\n                  label=\"Nombre del producto\"\n                  value={this.state.product_name}\n                  onChange={this._onProductNameChange}\n                  styles={{ fieldGroup: { width: 300 } }}\n                  required\n                  autoComplete=\"off\"\n                />\n                <TextField\n                  label=\"Costo de producción\"\n                  value={this.state.cost_price}\n                  onChange={this._onCostPriceChange}\n                  styles={{ fieldGroup: { width: 300 } }}\n                />\n                <TextField\n                  label=\"Precio de venta sugerido\"\n                  value={this.state.selling_price}\n                  onChange={this._onSellingPriceChange}\n                  styles={{ fieldGroup: { width: 300 } }}\n                  required\n                />\n                <TextField\n                  label=\"Descripción\"\n                  value={this.state.description}\n                  onChange={this._onDescriptionChange}\n                  styles={{ fieldGroup: { width: 300 } }}\n                  required\n                />\n                <TextField\n                  label=\"Stock\"\n                  value={this.state.stock}\n                  onChange={this._onStockChange}\n                  styles={{ fieldGroup: { width: 300 } }}\n                  required\n                />\n                <Dropdown\n                  label=\"Categoría\"\n                  selectedKey={this.state.category ? this.state.category : undefined}\n                  onChange={this._onCategoryChange}\n                  placeholder=\"Selecciona categoría\"\n                  options={this.state.categories}\n                  styles={{ dropdown: { width: 300 } }}\n                />\n\n                <PrimaryButton\n                  style={{marginTop: '2em'}}\n                  disabled={false}\n                  text=\"Agregar\"\n                  type=\"submit\"\n                  allowDisabledFocus={true}\n                />\n              </form>\n            </Paper>\n      \t\t  \n\t\t      </div>\n      \t)}\n      </AppContext.Consumer>\n    );\n  }\n  \n}\n\nexport default NewProduct;\n"]},"metadata":{},"sourceType":"module"}