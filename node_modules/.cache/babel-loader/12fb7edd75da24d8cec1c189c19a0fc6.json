{"ast":null,"code":"import _slicedToArray from \"/Users/alexandroaguilar/Desarrollo/tiburon-master/aPOS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/alexandroaguilar/Desarrollo/tiburon-master/aPOS/src/components/ProductsControl.js\";\nimport React from 'react';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport AppContext from '../context/AppContext';\nimport { Dropdown } from 'office-ui-fabric-react/lib/Dropdown';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport { ComboBox } from 'office-ui-fabric-react/lib/index';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport moment from 'moment';\nimport axios from 'axios';\n\nclass ProductsControl extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._onCustomerChange = customer => {\n      this.setState({\n        customer\n      });\n    };\n\n    this._onProductChange = product => {\n      this.setState({\n        product\n      });\n    };\n\n    this._onAmmountChange = (e, ammount) => {\n      this.setState({\n        ammount\n      });\n    };\n\n    this._onPriceChange = (e, price) => {\n      this.setState({\n        selling_price: price\n      });\n    };\n\n    this._onIVAChange = (e, IVA) => {\n      this.setState({\n        IVA: IVA.key\n      });\n    };\n\n    this._onCashChange = (e, cash) => {\n      this.setState({\n        cash: cash.key\n      });\n    };\n\n    this._onMovementTypeChange = movementType => {\n      this.setState({\n        movementType: movementType.key\n      });\n\n      switch (movementType.key) {\n        case 1:\n          this.setState({\n            textFields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              description: true\n            }\n          });\n          break;\n\n        case 2:\n          this.setState({\n            textFields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              description: true\n            }\n          });\n          break;\n\n        case 3:\n          this.setState({\n            textFields: {\n              customer: true,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              description: true\n            }\n          });\n          break;\n\n        case 4:\n          this.setState({\n            textFields: {\n              customer: true,\n              product: true,\n              ammount: true,\n              price: true,\n              IVA: true,\n              cash: true,\n              description: true\n            }\n          });\n          break;\n\n        case 5:\n          this.setState({\n            textFields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              IVA: false,\n              cash: false,\n              description: true\n            }\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this._onDescriptionChange = (e, description) => {\n      this.setState({\n        description\n      });\n    };\n\n    this._getCustomers = () => {\n      if (this.state.customers.length > 0) {\n        return this.state.customers;\n      }\n\n      let customers = this.props.customers.map(customer => ({\n        key: customer.customer_id,\n        text: customer.customer_name\n      }));\n      this.setState({\n        customers\n      });\n    };\n\n    this._onCustomersChange = (event, option, index, value) => {\n      //this is type change handler\n      if (this.state.customer === undefined) {\n        this.setState({\n          customer: value\n        });\n      } else {\n        this.setState({\n          customer: option.key\n        });\n      }\n    };\n\n    this._getProducts = () => {\n      if (this.state.products.length > 0) {\n        return this.state.products;\n      }\n\n      let products = this.props.products.map(product => ({\n        key: product.product_id,\n        text: product.product_name + ' ' + product.category_name,\n        cost_price: product.cost_price,\n        selling_price: product.selling_price\n      }));\n      this.setState({\n        products\n      });\n    };\n\n    this._onProductsChange = (event, option, index, value) => {\n      //this is type change handler\n      if (this.state.product === undefined) {\n        this.setState({\n          product: value\n        });\n      } else {\n        this.setState({\n          product: option.key,\n          selling_price: option.selling_price,\n          cost_price: option.cost_price\n        });\n      }\n    };\n\n    this.state = {\n      customer: null,\n      product: null,\n      ammount: '',\n      selling_price: '0',\n      cost_price: '0',\n      IVA: 0,\n      cash: 0,\n      movementType: null,\n      description: '',\n      options: [{\n        key: 1,\n        text: 'Merma'\n      }, {\n        key: 2,\n        text: 'Prueba de control'\n      }, {\n        key: 3,\n        text: 'Cortesía'\n      }, {\n        key: 4,\n        text: 'Venta'\n      }, {\n        key: 5,\n        text: 'Consumo personal'\n      }],\n      customers: [],\n      products: [],\n      initialDisplayValue: '',\n      textFields: {\n        customer: false,\n        product: false,\n        ammount: false,\n        price: false,\n        IVA: false,\n        cash: false,\n        description: false\n      }\n    };\n  }\n\n  componentDidMount() {\n    this._getCustomers();\n\n    this._getProducts();\n  }\n\n  componentDidCatch(error) {\n    console.log(error);\n  }\n\n  render() {\n    return React.createElement(AppContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, context => React.createElement(\"div\", {\n      className: \"ProductsControl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ProductsControlPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(AddMovementPanel, {\n      person: context.state.user.personal_id,\n      customer: this.state.customer,\n      _onCustomerChange: this._onCustomerChange,\n      product: this.state.product,\n      _onProductChange: this._onProductChange,\n      ammount: this.state.ammount,\n      _onAmmountChange: this._onAmmountChange,\n      selling_price: this.state.selling_price,\n      _onPriceChange: this._onPriceChange,\n      cost_price: this.state.cost_price,\n      cash: this.state.cash,\n      _onCashChange: this._onCashChange,\n      IVA: this.state.IVA,\n      _onIVAChange: this._onIVAChange,\n      movementType: this.state.movementType,\n      _onMovementTypeChange: this._onMovementTypeChange,\n      description: this.state.description,\n      _onDescriptionChange: this._onDescriptionChange,\n      options: this.state.options,\n      textFields: this.state.textFields,\n      initialDisplayValue: this.state.initialDisplayValue,\n      customers: this.state.customers,\n      _getCustomers: this._getCustomers,\n      _onCustomersChange: this._onCustomersChange,\n      products: this.state.products,\n      _getProducts: this._getProducts,\n      _onProductsChange: this._onProductsChange,\n      _showAlert: this.props._showAlert,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    })), React.createElement(ProductsControlHistory, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    })));\n  }\n\n}\n\nfunction AddMovementPanel(props) {\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        expanded = _React$useState2[0],\n        setExpanded = _React$useState2[1];\n\n  const handleMovementTypeChange = (event, option) => {\n    props._onMovementTypeChange(option);\n\n    setExpanded(false);\n    setTimeout(() => setExpanded('panel1'), 500);\n  };\n\n  const _getTotal = () => {\n    if (props.IVA === 1) return String(props.ammount * props.selling_price + props.ammount * props.selling_price * 0.16);\n    return String(props.ammount * props.selling_price);\n  };\n\n  const _handleSubmit = async () => {\n    axios.post('http://177.246.228.199:8000/sales', {\n      movement_date: new Date(),\n      customer: props.customer,\n      person: props.person,\n      product: props.product,\n      ammount: props.ammount,\n      selling_price: props.selling_price,\n      cost_price: props.cost_price,\n      IVA: props.IVA,\n      cash: props.cash,\n      movementType: props.movementType,\n      description: props.description\n    }).then(response => {\n      console.log(response);\n\n      props._onCustomerChange(null);\n\n      props._onProductChange(null);\n\n      props._onAmmountChange(null, '');\n\n      props._onDescriptionChange(null, '');\n\n      props._showAlert('Agregado con éxito.', 'Éxito: ');\n    }).catch(error => {\n      console.log(error);\n    });\n    var product = await axios.put('http://localhost:8000/products/stock', {\n      product: props.product,\n      ammount: props.ammount\n    });\n    console.log(product);\n  };\n\n  return React.createElement(AppContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }, context => React.createElement(ExpansionPanel, {\n    expanded: expanded === 'panel1',\n    style: {\n      height: 24 + 'em',\n      overflowY: 'scroll'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }, React.createElement(ExpansionPanelSummary, {\n    \"aria-controls\": \"panel1d-content\",\n    id: \"panel1d-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293\n    },\n    __self: this\n  }, React.createElement(Dropdown, {\n    label: \"Tipo de movimiento\",\n    selectedKey: props.movementType ? props.movementType : undefined,\n    onChange: handleMovementTypeChange,\n    placeholder: \"Selecciona movimiento\",\n    options: props.options,\n    styles: {\n      dropdown: {\n        width: 300\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  })), React.createElement(ExpansionPanelDetails, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, props.textFields.customer ? React.createElement(ComboBox, {\n    selectedKey: props.customer,\n    label: \"Cliente\",\n    allowFreeform: true,\n    autoComplete: \"on\",\n    options: props.customers,\n    onChange: props._onCustomersChange,\n    onResolveOptions: props._getCustomers,\n    text: props.initialDisplayValue,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308\n    },\n    __self: this\n  }) : null, props.textFields.product ? React.createElement(ComboBox, {\n    selectedKey: props.product,\n    label: \"Producto\",\n    allowFreeform: true,\n    autoComplete: \"on\",\n    options: props.products,\n    onChange: props._onProductsChange,\n    onResolveOptions: props._getProducts,\n    text: props.initialDisplayValue,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309\n    },\n    __self: this\n  }) : null, props.textFields.ammount ? React.createElement(TextField, {\n    label: \"Unidades\",\n    value: props.ammount,\n    onChange: props._onAmmountChange,\n    styles: {\n      fieldGroup: {\n        width: 300\n      }\n    },\n    autoComplete: \"off\",\n    type: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }) : null, props.textFields.price ? React.createElement(TextField, {\n    label: \"Precio\",\n    value: props.selling_price,\n    onChange: props._onPriceChange,\n    styles: {\n      fieldGroup: {\n        width: 300\n      }\n    },\n    autoComplete: \"off\",\n    type: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }) : null, props.textFields.IVA ? React.createElement(Dropdown, {\n    label: \"IVA\",\n    selectedKey: props.IVA ? props.IVA : undefined,\n    onChange: props._onIVAChange,\n    placeholder: \"Selecciona...\",\n    options: [{\n      key: 0,\n      text: 'Sin IVA'\n    }, {\n      key: 1,\n      text: 'Con IVA'\n    }],\n    styles: {\n      dropdown: {\n        width: 300\n      }\n    },\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }) : null, props.textFields.description ? React.createElement(TextField, {\n    label: \"Descripci\\xF3n\",\n    value: props.description,\n    onChange: props._onDescriptionChange,\n    styles: {\n      fieldGroup: {\n        width: 300\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }) : null, props.textFields.IVA ? React.createElement(TextField, {\n    label: \"Total: \",\n    value: _getTotal(),\n    onChange: props._onDescriptionChange,\n    styles: {\n      fieldGroup: {\n        width: 300\n      }\n    },\n    readOnly: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }) : null, React.createElement(PrimaryButton, {\n    onClick: () => _handleSubmit(),\n    style: {\n      marginTop: '2em'\n    },\n    disabled: false,\n    text: \"Agregar\",\n    type: \"submit\",\n    allowDisabledFocus: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315\n    },\n    __self: this\n  })))));\n}\n\nclass ProductsControlHistory extends React.Component {\n  constructor() {\n    super();\n\n    this._animateTableAppear = () => {\n      let animation = setInterval(() => {\n        this.setState({\n          tableAnimation: this.state.tableAnimation + 0.1\n        });\n      }, 10);\n      setTimeout(() => {\n        this.setState({\n          tableAnimation: 1\n        });\n        clearInterval(animation);\n      }, 500);\n    };\n\n    this._animateTableDisappear = () => {\n      let animation = setInterval(() => {\n        this.setState({\n          tableAnimation: this.state.tableAnimation - 0.1\n        });\n      }, 10);\n      setTimeout(() => {\n        this.setState({\n          tableAnimation: 0\n        });\n        clearInterval(animation);\n      }, 500);\n    };\n\n    this._onMovementTypeChange = (e, movementType, _setMovements) => {\n      this.setState({\n        movementType: movementType.key\n      });\n\n      this._animateTableDisappear();\n\n      setTimeout(() => {\n        this._animateTableAppear();\n      }, 500);\n\n      switch (movementType.key) {\n        case 1:\n          _setMovements(movementType.key);\n\n          this.setState({\n            fields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              description: true\n            }\n          });\n          break;\n\n        case 2:\n          _setMovements(movementType.key);\n\n          this.setState({\n            fields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              description: true\n            }\n          });\n          break;\n\n        case 3:\n          _setMovements(movementType.key);\n\n          this.setState({\n            fields: {\n              customer: true,\n              product: true,\n              ammount: true,\n              price: false,\n              IVA: false,\n              cash: false,\n              description: true\n            }\n          });\n          break;\n\n        case 4:\n          _setMovements(movementType.key);\n\n          this.setState({\n            fields: {\n              customer: true,\n              product: true,\n              ammount: true,\n              price: true,\n              IVA: true,\n              cash: true,\n              description: true\n            }\n          });\n          break;\n\n        case 5:\n          _setMovements(movementType.key);\n\n          this.setState({\n            fields: {\n              customer: false,\n              product: true,\n              ammount: true,\n              IVA: false,\n              cash: false,\n              description: true\n            }\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.state = {\n      tableAnimation: 0,\n      tableDisplay: 'block',\n      movementType: null,\n      movements: [],\n      fields: {\n        customer: false,\n        product: false,\n        ammount: false,\n        price: false,\n        IVA: false,\n        cash: false,\n        description: false\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(AppContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459\n      },\n      __self: this\n    }, context => React.createElement(\"div\", {\n      className: \"ProductsControlPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: {\n        padding: 1 + 'em',\n        width: 40 + 'em',\n        height: 24 + 'em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      label: \"\",\n      selectedKey: this.state.movementType ? this.state.movementType : undefined,\n      onChange: (e, movementType) => this._onMovementTypeChange(e, movementType, context._setMovements),\n      placeholder: \"Selecciona...\",\n      options: [{\n        key: 1,\n        text: 'Merma'\n      }, {\n        key: 2,\n        text: 'Prueba de control'\n      }, {\n        key: 3,\n        text: 'Cortesía'\n      }, {\n        key: 4,\n        text: 'Venta'\n      }, {\n        key: 5,\n        text: 'Consumo personal'\n      }],\n      styles: {\n        dropdown: {\n          width: 300\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        overflowX: 'scroll',\n        height: 22.5 + 'em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: \"ProductsControlTable\",\n      style: {\n        opacity: this.state.tableAnimation,\n        display: this.state.tableDisplay\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }, \"Producto\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      },\n      __self: this\n    }, \"Fecha\\xA0\"), this.state.fields.customer ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }, \"Cliente\\xA0\") : null, this.state.fields.price ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471\n      },\n      __self: this\n    }, \"Precio de venta\\xA0\") : null, React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472\n      },\n      __self: this\n    }, \"Cantidad\\xA0\"), this.state.fields.IVA ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473\n      },\n      __self: this\n    }, \"IVA\\xA0\") : null, React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474\n      },\n      __self: this\n    }, \"Descripci\\xF3n\\xA0\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }, \"Personal\\xA0\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }, context.state.movements.map(movement => React.createElement(TableRow, {\n      hover: true,\n      key: movement.sale_id,\n      onClick: () => console.log(movement),\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481\n      },\n      __self: this\n    }, movement.product_name), React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, moment(new Date(movement.sale_date)).format('DD/MM/YYYY')), this.state.fields.customer ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }, movement.customer_name) : null, this.state.fields.price ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, \"$\", movement.selling_price) : null, React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485\n      },\n      __self: this\n    }, movement.ammount), this.state.fields.IVA ? React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, movement.IVA === 0 ? 'No' : 'Si') : null, React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, movement.description), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, movement.personal_name)))))))));\n  }\n\n}\n\nexport default ProductsControl; //","map":{"version":3,"sources":["/Users/alexandroaguilar/Desarrollo/tiburon-master/aPOS/src/components/ProductsControl.js"],"names":["React","TextField","AppContext","Dropdown","ExpansionPanel","ExpansionPanelDetails","ExpansionPanelSummary","ComboBox","PrimaryButton","Table","TableBody","TableCell","TableHead","TableRow","Paper","moment","axios","ProductsControl","Component","constructor","props","_onCustomerChange","customer","setState","_onProductChange","product","_onAmmountChange","e","ammount","_onPriceChange","price","selling_price","_onIVAChange","IVA","key","_onCashChange","cash","_onMovementTypeChange","movementType","textFields","description","_onDescriptionChange","_getCustomers","state","customers","length","map","customer_id","text","customer_name","_onCustomersChange","event","option","index","value","undefined","_getProducts","products","product_id","product_name","category_name","cost_price","_onProductsChange","options","initialDisplayValue","componentDidMount","componentDidCatch","error","console","log","render","context","user","personal_id","_showAlert","AddMovementPanel","useState","expanded","setExpanded","handleMovementTypeChange","setTimeout","_getTotal","String","_handleSubmit","post","movement_date","Date","person","then","response","catch","put","height","overflowY","dropdown","width","display","flexDirection","fieldGroup","marginTop","ProductsControlHistory","_animateTableAppear","animation","setInterval","tableAnimation","clearInterval","_animateTableDisappear","_setMovements","fields","tableDisplay","movements","padding","overflowX","opacity","movement","sale_id","cursor","sale_date","format","personal_name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport AppContext from '../context/AppContext';\nimport { Dropdown } from 'office-ui-fabric-react/lib/Dropdown';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport { ComboBox } from 'office-ui-fabric-react/lib/index';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport moment from 'moment';\nimport axios from 'axios';\n\nclass ProductsControl extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      customer: null,\n      product: null,\n      ammount: '',\n      selling_price: '0',\n      cost_price: '0',\n      IVA: 0,\n      cash: 0,\n      movementType: null,\n      description: '',\n      options: [{key: 1, text: 'Merma'}, {key:2, text: 'Prueba de control'}, {key: 3, text: 'Cortesía'}, {key: 4, text: 'Venta'}, {key:5, text: 'Consumo personal'}],\n      customers: [],\n      products: [],\n      initialDisplayValue: '',\n      textFields: {\n        customer: false,\n        product: false,\n        ammount: false,\n        price: false,\n        IVA: false,\n        cash: false,\n        description: false,\n      }\n    }\n  }\n\n  componentDidMount() {\n    this._getCustomers();\n    this._getProducts();\n  }\n\n  _onCustomerChange = (customer) => {\n    this.setState({\n      customer\n    });\n  }\n\n  _onProductChange = (product) => {\n    this.setState({\n      product\n    });\n  }\n\n  _onAmmountChange = (e, ammount) => {\n    this.setState({\n      ammount\n    });\n  }\n\n  _onPriceChange = (e, price) => {\n    this.setState({\n      selling_price: price\n    });\n  }\n\n  _onIVAChange = (e, IVA) => {\n    this.setState({\n      IVA: IVA.key\n    });\n  }\n\n  _onCashChange = (e, cash) => {\n    this.setState({\n      cash: cash.key\n    });\n  }\n\n  _onMovementTypeChange = (movementType) => {\n    this.setState({\n      movementType: movementType.key\n    });\n    switch (movementType.key) {\n      case 1:\n        this.setState({\n          textFields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            description: true\n          }\n        });\n        break;\n      case 2:\n        this.setState({\n          textFields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            description: true\n          }\n        });\n        break;\n      case 3:\n        this.setState({\n          textFields: {\n            customer: true,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            description: true\n          }\n        });\n        break;\n      case 4:\n        this.setState({\n          textFields: {\n            customer: true,\n            product: true,\n            ammount: true,\n            price: true,\n            IVA: true,\n            cash: true,\n            description: true\n          }\n        });\n        break;\n      case 5:\n        this.setState({\n          textFields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            IVA: false,\n            cash: false,\n            description: true\n          }\n        });\n        break;\n      default:\n        break;\n    }\n  }\n\n  _onDescriptionChange = (e, description) => {\n    this.setState({\n      description\n    });\n  }\n\n  _getCustomers = () => {\n    if(this.state.customers.length > 0) {\n      return this.state.customers;\n    }\n    let customers = this.props.customers.map(customer => (\n      {key: customer.customer_id, text: customer.customer_name}\n    ));\n    this.setState({\n      customers\n    });\n  }\n\n  _onCustomersChange = (event, option, index, value) => { //this is type change handler\n    if(this.state.customer === undefined){\n      this.setState({\n        customer: value\n      })  \n    } else {\n      this.setState({\n        customer: option.key\n      })  \n    }\n  }\n\n  _getProducts = () => {\n    if(this.state.products.length > 0) {\n      return this.state.products;\n    }\n    let products = this.props.products.map(product => (\n      {key: product.product_id, text: product.product_name + ' ' + product.category_name, cost_price: product.cost_price, selling_price: product.selling_price}\n    ));\n    this.setState({\n      products\n    });\n  }\n\n  _onProductsChange = (event, option, index, value) => { //this is type change handler\n    if(this.state.product === undefined){\n      this.setState({\n        product: value\n      });\n    } else {\n      this.setState({\n        product: option.key,\n        selling_price: option.selling_price,\n        cost_price: option.cost_price\n      });\n    }\n  }\n\n  componentDidCatch(error) {\n    console.log(error);\n  }\n\n  render() {\n    return (\n      <AppContext.Consumer>\n      \t{context => (\n      \t\t<div className=\"ProductsControl\">\n            <div className=\"ProductsControlPanel\">\n              <AddMovementPanel\n                person={context.state.user.personal_id}\n                customer={this.state.customer} _onCustomerChange={this._onCustomerChange}\n                product={this.state.product} _onProductChange={this._onProductChange}\n                ammount={this.state.ammount} _onAmmountChange={this._onAmmountChange}\n                selling_price={this.state.selling_price} _onPriceChange={this._onPriceChange}\n                cost_price={this.state.cost_price}\n                cash={this.state.cash} _onCashChange={this._onCashChange}\n                IVA={this.state.IVA} _onIVAChange={this._onIVAChange}\n                movementType={this.state.movementType} _onMovementTypeChange={this._onMovementTypeChange}\n                description={this.state.description} _onDescriptionChange={this._onDescriptionChange}\n                options={this.state.options}\n                textFields={this.state.textFields}\n                initialDisplayValue={this.state.initialDisplayValue}\n                customers={this.state.customers} _getCustomers={this._getCustomers} _onCustomersChange={this._onCustomersChange}\n                products={this.state.products} _getProducts={this._getProducts} _onProductsChange={this._onProductsChange}\n                _showAlert={this.props._showAlert}\n              />\n            </div>\n            <ProductsControlHistory/>\n          </div>\n      \t)}\n      </AppContext.Consumer>\n    );\n  }\n  \n}\n\nfunction AddMovementPanel(props) {\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleMovementTypeChange = (event, option) => {\n    props._onMovementTypeChange(option);\n    setExpanded(false);\n    setTimeout(() => setExpanded('panel1'), 500);\n  }\n\n  const _getTotal = () => {\n    if(props.IVA === 1)\n     return String(props.ammount * props.selling_price + (props.ammount * props.selling_price * 0.16));\n    return String(props.ammount * props.selling_price);\n  }\n\n  const _handleSubmit = async () => {\n    axios.post('http://177.246.228.199:8000/sales', {movement_date: new Date(), customer: props.customer, person: props.person, product: props.product, ammount: props.ammount, selling_price: props.selling_price, cost_price: props.cost_price, IVA: props.IVA, cash:props.cash, movementType: props.movementType, description: props.description})\n    .then(response => {\n      console.log(response);\n      props._onCustomerChange(null);\n      props._onProductChange(null);\n      props._onAmmountChange(null, '');\n      props._onDescriptionChange(null, '');\n      props._showAlert('Agregado con éxito.', 'Éxito: ')\n    })\n    .catch(error => {\n      console.log(error);\n    });\n    var product = await axios.put('http://localhost:8000/products/stock', {product: props.product, ammount: props.ammount});\n    console.log(product);\n  }\n\n  return (\n    <AppContext.Consumer>\n      {context => (\n        <ExpansionPanel expanded={expanded === 'panel1'} style={{height: 24 + 'em', overflowY: 'scroll'}}>\n          <ExpansionPanelSummary\n            aria-controls=\"panel1d-content\"\n            id=\"panel1d-header\"\n          >\n            <Dropdown\n              label=\"Tipo de movimiento\"\n              selectedKey={props.movementType ? props.movementType : undefined}\n              onChange={handleMovementTypeChange}\n              placeholder=\"Selecciona movimiento\"\n              options={props.options}\n              styles={{ dropdown: { width: 300 } }}\n            />\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <div style={{display: 'flex', flexDirection: 'column'}}>\n              {props.textFields.customer ? <ComboBox selectedKey={props.customer} label=\"Cliente\" allowFreeform={true} autoComplete=\"on\" options={props.customers} onChange={props._onCustomersChange} onResolveOptions={props._getCustomers} text={props.initialDisplayValue} required/> : null}\n              {props.textFields.product ? <ComboBox selectedKey={props.product} label=\"Producto\" allowFreeform={true} autoComplete=\"on\" options={props.products} onChange={props._onProductsChange} onResolveOptions={props._getProducts} text={props.initialDisplayValue} required/> : null}\n              {props.textFields.ammount ? <TextField label=\"Unidades\" value={props.ammount} onChange={props._onAmmountChange} styles={{ fieldGroup: { width: 300 } }} autoComplete=\"off\" type=\"number\"/> : null}\n              {props.textFields.price ? <TextField label=\"Precio\" value={props.selling_price} onChange={props._onPriceChange} styles={{fieldGroup: {width: 300} }} autoComplete=\"off\" type=\"number\"/> : null}\n              {props.textFields.IVA ? <Dropdown label=\"IVA\" selectedKey={props.IVA ? props.IVA : undefined} onChange={props._onIVAChange} placeholder=\"Selecciona...\" options={[{ key: 0, text: 'Sin IVA' }, { key: 1, text: 'Con IVA' },]} styles={{ dropdown: { width: 300 } }} required/> : null}\n              {props.textFields.description ? <TextField label=\"Descripción\" value={props.description} onChange={props._onDescriptionChange} styles={{ fieldGroup: { width: 300 } }}/> : null}\n              {props.textFields.IVA ? <TextField label=\"Total: \" value={_getTotal()} onChange={props._onDescriptionChange} styles={{ fieldGroup: { width: 300 } }} readOnly={true}/> : null}\n              <PrimaryButton onClick={() => _handleSubmit()} style={{marginTop: '2em'}} disabled={false} text=\"Agregar\" type=\"submit\" allowDisabledFocus={true}/>\n            </div>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n      )}\n    </AppContext.Consumer>\n  );\n}\n\nclass ProductsControlHistory extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      tableAnimation: 0,\n      tableDisplay: 'block',\n      movementType: null,\n      movements: [],\n      fields: {\n        customer: false,\n        product: false,\n        ammount: false,\n        price: false,\n        IVA: false,\n        cash: false,\n        description: false,\n      }\n    }\n  }\n\n  _animateTableAppear = () => {\n    let animation = setInterval(() => {\n      this.setState({\n        tableAnimation: this.state.tableAnimation + 0.1\n      });\n    }, 10);\n    setTimeout(() => {\n      this.setState({\n        tableAnimation: 1\n      });\n      clearInterval(animation);\n    }, 500);\n  }\n\n  _animateTableDisappear = () => {\n    let animation = setInterval(() => {\n      this.setState({\n        tableAnimation: this.state.tableAnimation - 0.1\n      });\n    }, 10);\n    setTimeout(() => {\n      this.setState({\n        tableAnimation: 0\n      });\n      clearInterval(animation);\n    }, 500);\n  }\n\n  _onMovementTypeChange = (e, movementType, _setMovements) => {\n    this.setState({\n      movementType: movementType.key\n    });\n    this._animateTableDisappear();\n    setTimeout(() => {\n      this._animateTableAppear();\n    }, 500);\n    \n    switch (movementType.key) {\n      case 1:\n        _setMovements(movementType.key);\n        this.setState({\n          fields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            description: true\n          }\n        });\n        break;\n      case 2:\n        _setMovements(movementType.key);\n        this.setState({\n          fields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            description: true\n          }\n        });\n        break;\n      case 3:\n        _setMovements(movementType.key);\n        this.setState({\n          fields: {\n            customer: true,\n            product: true,\n            ammount: true,\n            price: false,\n            IVA: false,\n            cash: false,\n            description: true\n          }\n        });\n        break;\n      case 4:\n        _setMovements(movementType.key);\n        this.setState({\n          fields: {\n            customer: true,\n            product: true,\n            ammount: true,\n            price: true,\n            IVA: true,\n            cash: true,\n            description: true\n          }\n        });\n        break;\n      case 5:\n        _setMovements(movementType.key);\n        this.setState({\n          fields: {\n            customer: false,\n            product: true,\n            ammount: true,\n            IVA: false,\n            cash: false,\n            description: true\n          }\n        });\n        break;\n    \n      default:\n        break;\n    }\n  }\n\n  render() {\n    return (\n      <AppContext.Consumer>\n        {context => (\n          <div className=\"ProductsControlPanel\">\n            <Paper style={{padding: 1 + 'em', width: 40 + 'em', height: 24 + 'em'}} >\n              <Dropdown label=\"\" selectedKey={this.state.movementType ? this.state.movementType : undefined} onChange={(e, movementType) => this._onMovementTypeChange(e, movementType, context._setMovements)} placeholder=\"Selecciona...\" options={[{key: 1, text: 'Merma'}, {key:2, text: 'Prueba de control'}, {key: 3, text: 'Cortesía'}, {key: 4, text: 'Venta'}, {key:5, text: 'Consumo personal'}]} styles={{ dropdown: { width: 300 } }}/>\n              <div style={{overflowX: 'scroll', height: 22.5 + 'em'}}>\n                <Table className=\"ProductsControlTable\" style={{opacity: this.state.tableAnimation, display: this.state.tableDisplay}}>\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>Producto</TableCell>\n                      <TableCell align=\"right\">Fecha&nbsp;</TableCell>\n                      {this.state.fields.customer ? <TableCell align=\"right\">Cliente&nbsp;</TableCell> : null}\n                      {this.state.fields.price ? <TableCell align=\"right\">Precio de venta&nbsp;</TableCell> : null}\n                      <TableCell align=\"right\">Cantidad&nbsp;</TableCell>\n                      {this.state.fields.IVA ? <TableCell align=\"right\">IVA&nbsp;</TableCell> : null}\n                      <TableCell align=\"right\">Descripción&nbsp;</TableCell>\n                      <TableCell align=\"right\">Personal&nbsp;</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {context.state.movements.map(movement => (\n                      <TableRow hover key={movement.sale_id} onClick={() => console.log(movement)} style={{cursor: 'pointer'}}>\n                        <TableCell component=\"th\" scope=\"row\">{movement.product_name}</TableCell>\n                        <TableCell component=\"th\" scope=\"row\">{moment(new Date(movement.sale_date)).format('DD/MM/YYYY')}</TableCell>\n                        {this.state.fields.customer ? <TableCell align=\"right\">{movement.customer_name}</TableCell> : null}\n                        {this.state.fields.price ? <TableCell align=\"right\">${movement.selling_price}</TableCell> : null}\n                        <TableCell align=\"right\">{movement.ammount}</TableCell>\n                        {this.state.fields.IVA ? <TableCell align=\"right\">{movement.IVA === 0 ? 'No' : 'Si'}</TableCell> : null}\n                        <TableCell align=\"right\">{movement.description}</TableCell>\n                        <TableCell align=\"right\">{movement.personal_name}</TableCell>\n                      </TableRow>\n                  ))}\n                  </TableBody>\n                </Table>\n              </div>\n            </Paper>\n          </div>\n        )}\n      </AppContext.Consumer>\n    );\n  }\n}\n\nexport default ProductsControl;\n\n//"]},"metadata":{},"sourceType":"module"}