{"ast":null,"code":"var _jsxFileName = \"/Users/alexandroaguilar/Desarrollo/tiburon-master/aPOS/src/screens/Authentication.js\";\nimport React from 'react';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport MaterialAlert from '../components/MaterialAlert';\nimport AppContext from '../context/AppContext';\nimport axios from 'axios';\nimport logo from '../assets/logo.png';\nimport './Authentication.css';\n\nclass Authentication extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._onChangeUser = e => {\n      this.setState({\n        user: e.target.value\n      });\n    };\n\n    this._onChangePassword = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this._onSubmit = (e, _setUser, _showAlert) => {\n      e.preventDefault();\n      axios.post('http://localhost:8000/auth', {\n        alias: this.state.user,\n        password: this.state.password\n      }).then(response => {\n        if (response.data.length > 0) {\n          console.log(response.data[0]);\n\n          if (response.data[0].administrator === 1) {\n            _setUser(response.data[0]);\n          } else {\n            _showAlert('Sin acceso', 'Alerta');\n          }\n        } else {\n          _showAlert('Usuario o contraseña no encontrados', 'Alerta');\n        }\n      }).catch(error => {\n        _showAlert('Hubo un problema con el sevidor, intenta más tarde', 'Error');\n      });\n    };\n\n    this.state = {\n      user: '',\n      password: ''\n    };\n  }\n\n  render() {\n    return React.createElement(AppContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, context => React.createElement(\"div\", {\n      className: \"authentication\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(MaterialAlert, {\n      inProp: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"authWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      width: \"200\",\n      src: logo,\n      alt: \"Tibur\\xF3n\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: e => this._onSubmit(e, context._setUser, context._showAlert),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      className: \"input\",\n      label: \"Usuario\",\n      value: this.state.user,\n      onChange: this._onChangeUser,\n      styles: {\n        fieldGroup: {\n          width: 300\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      className: \"input\",\n      type: \"password\",\n      label: \"Contrase\\xF1a\",\n      value: this.state.password,\n      onChange: this._onChangePassword,\n      styles: {\n        fieldGroup: {\n          width: 300\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(PrimaryButton, {\n      className: \"input\",\n      disabled: false,\n      text: \"Entrar\",\n      type: \"submit\",\n      allowDisabledFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Authentication;","map":{"version":3,"sources":["/Users/alexandroaguilar/Desarrollo/tiburon-master/aPOS/src/screens/Authentication.js"],"names":["React","TextField","PrimaryButton","MaterialAlert","AppContext","axios","logo","Authentication","Component","constructor","props","_onChangeUser","e","setState","user","target","value","_onChangePassword","password","_onSubmit","_setUser","_showAlert","preventDefault","post","alias","state","then","response","data","length","console","log","administrator","catch","error","render","context","fieldGroup","width"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport MaterialAlert from '../components/MaterialAlert';\nimport AppContext from '../context/AppContext';\nimport axios from 'axios';\nimport logo from '../assets/logo.png'\nimport './Authentication.css';\n\nclass Authentication extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuser: '',\n\t\t\tpassword: ''\n\t\t}\n\t}\n\n\t_onChangeUser = (e) => {\n\t\tthis.setState({\n\t\t\tuser: e.target.value\n\t\t});\n\t}\n\n\t_onChangePassword = (e) => {\n\t\tthis.setState({\n\t\t\tpassword: e.target.value\n\t\t});\n\t}\n\n\t_onSubmit = (e, _setUser, _showAlert) => {\n\t\te.preventDefault();\n\t\taxios.post('http://localhost:8000/auth', {alias: this.state.user, password: this.state.password})\n\t\t.then(response => {\n\t\t\tif(response.data.length > 0) {\n\t\t\t\tconsole.log(response.data[0])\n\t\t\t\tif(response.data[0].administrator === 1) {\n\t\t\t\t\t_setUser(response.data[0])\n\t\t\t\t} else {\n\t\t\t\t\t_showAlert('Sin acceso', 'Alerta')\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_showAlert('Usuario o contraseña no encontrados', 'Alerta')\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\t_showAlert('Hubo un problema con el sevidor, intenta más tarde', 'Error')\n\t\t});\n\t}\n\n  render() {\n    return (\n      <AppContext.Consumer>\n      {context => (\n\t\t\t\t<div className=\"authentication\">\n\n\t\t\t\t\t<MaterialAlert inProp={true}/>\n\n\t      \t<div className=\"authWrapper\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<img width=\"200\" src={logo} alt=\"Tiburón\"/>\n\n\t\t\t\t\t\t<form onSubmit={(e) => this._onSubmit(e, context._setUser, context._showAlert)}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t          label=\"Usuario\"\n\t\t\t          value={this.state.user}\n\t\t\t          onChange={this._onChangeUser}\n\t\t\t          styles={{ fieldGroup: { width: 300 } }}\n\t\t\t        />\n\n\t\t\t        <TextField\n\t\t\t        \tclassName=\"input\"\n\t\t\t        \ttype=\"password\"\n\t\t\t          label=\"Contraseña\"\n\t\t\t          value={this.state.password}\n\t\t\t          onChange={this._onChangePassword}\n\t\t\t          styles={{ fieldGroup: { width: 300 } }}\n\t\t\t        />\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<br/>\n\n\t\t\t\t\t\t\t<PrimaryButton\n\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t            disabled={false}\n\t\t            text=\"Entrar\"\n\t\t            type=\"submit\"\n\t\t            allowDisabledFocus={true}\n\t\t          />\n\t\t\t\t\t\t</form>\n\n\t      \t</div>\n\t      </div>\n      )}\n      </AppContext.Consumer>\n    );\n  }\n  \n}\n\nexport default Authentication;\n"]},"metadata":{},"sourceType":"module"}