{"ast":null,"code":"import _objectSpread from \"/Users/alexandroaguilar/Desarrollo/Backup/tiburon-master/aPOS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/alexandroaguilar/Desarrollo/Backup/tiburon-master/aPOS/src/components/NewDeposit.js\";\nimport React, { Component } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { Dropdown } from 'office-ui-fabric-react/lib/Dropdown';\nimport axios from 'axios';\nexport default class NewDeposit extends Component {\n  constructor() {\n    super();\n\n    this._fadeIn = () => {\n      let fi = setInterval(() => {\n        this.setState({\n          opacity: this.state.opacity + 0.1\n        });\n      }, 30);\n      setTimeout(() => {\n        this.setState({\n          opacity: 1\n        });\n        clearInterval(fi);\n      }, 300);\n    };\n\n    this._getCustomers = () => {\n      let customers = this.props.customers.map(customer => ({\n        key: customer.customer_id,\n        text: customer.customer_name\n      }));\n      return customers;\n    };\n\n    this._onCustomerChange = (e, customer) => {\n      this.setState({\n        customer: customer.key\n      });\n    };\n\n    this._onPaymentTypeChange = (e, paymentType) => {\n      this.setState({\n        paymentType: paymentType.key\n      });\n    };\n\n    this._onAmountChange = (e, amount) => {\n      this.setState({\n        amount: amount\n      });\n    };\n\n    this._handleSubmit = () => {\n      axios.post('http://localhost:8000/deposits', {\n        deposit_date: new Date(),\n        payment_type: this.state.paymentType,\n        customer: this.state.customer,\n        ammount: this.state.amount\n      }).then(response => {\n        this.props._showAlert('Agregado correctamente', 'Notificación');\n\n        this.setState({\n          customer: undefined,\n          paymentType: undefined,\n          amount: 0\n        });\n        console.log(response);\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n\n    this.state = {\n      customer: undefined,\n      opacity: 0,\n      paymentType: undefined,\n      amount: 0\n    };\n  }\n\n  componentDidMount() {\n    this._fadeIn();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: styles.newDeposit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: _objectSpread({}, styles.panel, {\n        opacity: this.state.opacity\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      label: \"Cliente\",\n      selectedKey: this.state.customer ? this.state.customer : undefined,\n      onChange: this._onCustomerChange,\n      placeholder: \"Selecciona...\",\n      options: this._getCustomers(),\n      styles: {\n        dropdown: {\n          width: 300\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Dropdown, {\n      label: \"Tipo de pago\",\n      selectedKey: this.state.paymentType ? this.state.paymentType : undefined,\n      onChange: this._onPaymentTypeChange,\n      placeholder: \"Selecciona...\",\n      options: [{\n        key: 0,\n        text: 'Efectivo'\n      }, {\n        key: 1,\n        text: 'Depósito'\n      }],\n      styles: {\n        dropdown: {\n          width: 300\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      label: \"Cantidad\",\n      value: this.state.amount,\n      onChange: this._onAmountChange,\n      styles: {\n        fieldGroup: {\n          width: 300\n        }\n      },\n      type: \"number\",\n      autoComplete: \"off\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(PrimaryButton, {\n      onClick: this._handleSubmit,\n      style: {\n        marginTop: '2em'\n      },\n      disabled: false,\n      text: \"Agregar\",\n      type: \"submit\",\n      allowDisabledFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })));\n  }\n\n}\nconst styles = {\n  newDeposit: {\n    display: 'flex',\n    justifyContent: 'center',\n    padding: 1.5 + 'em'\n  },\n  panel: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: 19 + 'em',\n    padding: 1 + 'em'\n  }\n};","map":{"version":3,"sources":["/Users/alexandroaguilar/Desarrollo/Backup/tiburon-master/aPOS/src/components/NewDeposit.js"],"names":["React","Component","Paper","PrimaryButton","TextField","Dropdown","axios","NewDeposit","constructor","_fadeIn","fi","setInterval","setState","opacity","state","setTimeout","clearInterval","_getCustomers","customers","props","map","customer","key","customer_id","text","customer_name","_onCustomerChange","e","_onPaymentTypeChange","paymentType","_onAmountChange","amount","_handleSubmit","post","deposit_date","Date","payment_type","ammount","then","response","_showAlert","undefined","console","log","catch","error","componentDidMount","render","styles","newDeposit","panel","dropdown","width","fieldGroup","marginTop","display","justifyContent","padding","flexDirection"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,SAASC,aAAT,QAA8B,mCAA9B;AACA,SAASC,SAAT,QAA0B,sCAA1B;AACA,SAASC,QAAT,QAAyB,qCAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,UAAN,SAAyBN,SAAzB,CAAmC;AAChDO,EAAAA,WAAW,GAAG;AACZ;;AADY,SAcdC,OAdc,GAcJ,MAAM;AACd,UAAIC,EAAE,GAAGC,WAAW,CAAC,MAAM;AACzB,aAAKC,QAAL,CAAc;AACZC,UAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWD,OAAX,GAAqB;AADlB,SAAd;AAGD,OAJmB,EAIjB,EAJiB,CAApB;AAKAE,MAAAA,UAAU,CAAC,MAAM;AACf,aAAKH,QAAL,CAAc;AACZC,UAAAA,OAAO,EAAE;AADG,SAAd;AAGAG,QAAAA,aAAa,CAACN,EAAD,CAAb;AACD,OALS,EAKP,GALO,CAAV;AAMD,KA1Ba;;AAAA,SA4BdO,aA5Bc,GA4BE,MAAM;AACpB,UAAIC,SAAS,GAAG,KAAKC,KAAL,CAAWD,SAAX,CAAqBE,GAArB,CAAyBC,QAAQ,KAC/C;AAACC,QAAAA,GAAG,EAAED,QAAQ,CAACE,WAAf;AAA4BC,QAAAA,IAAI,EAAEH,QAAQ,CAACI;AAA3C,OAD+C,CAAjC,CAAhB;AAGA,aAAOP,SAAP;AACD,KAjCa;;AAAA,SAmCdQ,iBAnCc,GAmCM,CAACC,CAAD,EAAIN,QAAJ,KAAiB;AACnC,WAAKT,QAAL,CAAc;AACZS,QAAAA,QAAQ,EAAEA,QAAQ,CAACC;AADP,OAAd;AAGD,KAvCa;;AAAA,SAyCdM,oBAzCc,GAyCS,CAACD,CAAD,EAAIE,WAAJ,KAAoB;AACzC,WAAKjB,QAAL,CAAc;AACZiB,QAAAA,WAAW,EAAEA,WAAW,CAACP;AADb,OAAd;AAGD,KA7Ca;;AAAA,SA+CdQ,eA/Cc,GA+CI,CAACH,CAAD,EAAII,MAAJ,KAAe;AAC/B,WAAKnB,QAAL,CAAc;AACZmB,QAAAA,MAAM,EAAEA;AADI,OAAd;AAGD,KAnDa;;AAAA,SAqDdC,aArDc,GAqDE,MAAM;AACpB1B,MAAAA,KAAK,CAAC2B,IAAN,CAAW,gCAAX,EAA6C;AAACC,QAAAA,YAAY,EAAE,IAAIC,IAAJ,EAAf;AAA2BC,QAAAA,YAAY,EAAE,KAAKtB,KAAL,CAAWe,WAApD;AAAiER,QAAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWO,QAAtF;AAAgGgB,QAAAA,OAAO,EAAE,KAAKvB,KAAL,CAAWiB;AAApH,OAA7C,EACCO,IADD,CACMC,QAAQ,IAAI;AAChB,aAAKpB,KAAL,CAAWqB,UAAX,CAAsB,wBAAtB,EAAgD,cAAhD;;AACA,aAAK5B,QAAL,CAAc;AACZS,UAAAA,QAAQ,EAAEoB,SADE;AAEZZ,UAAAA,WAAW,EAAEY,SAFD;AAGZV,UAAAA,MAAM,EAAE;AAHI,SAAd;AAKAW,QAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACD,OATD,EAUCK,KAVD,CAUOC,KAAK,IAAI;AACdH,QAAAA,OAAO,CAACG,KAAR,CAAcA,KAAd;AACD,OAZD;AAaD,KAnEa;;AAEZ,SAAK/B,KAAL,GAAa;AACXO,MAAAA,QAAQ,EAAEoB,SADC;AAEX5B,MAAAA,OAAO,EAAE,CAFE;AAGXgB,MAAAA,WAAW,EAAEY,SAHF;AAIXV,MAAAA,MAAM,EAAE;AAJG,KAAb;AAMD;;AAEDe,EAAAA,iBAAiB,GAAG;AAClB,SAAKrC,OAAL;AACD;;AAyDDsC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,KAAK,EAAEC,MAAM,CAACC,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,KAAK,oBAAMD,MAAM,CAACE,KAAb;AAAoBrC,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWD;AAAxC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,SAAhB;AAA0B,MAAA,WAAW,EAAE,KAAKC,KAAL,CAAWO,QAAX,GAAsB,KAAKP,KAAL,CAAWO,QAAjC,GAA4CoB,SAAnF;AAA8F,MAAA,QAAQ,EAAE,KAAKf,iBAA7G;AAAgI,MAAA,WAAW,EAAC,eAA5I;AAA4J,MAAA,OAAO,EAAE,KAAKT,aAAL,EAArK;AAA2L,MAAA,MAAM,EAAE;AAAEkC,QAAAA,QAAQ,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT;AAAZ,OAAnM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,cAAhB;AAA+B,MAAA,WAAW,EAAE,KAAKtC,KAAL,CAAWe,WAAX,GAAyB,KAAKf,KAAL,CAAWe,WAApC,GAAkDY,SAA9F;AAAyG,MAAA,QAAQ,EAAE,KAAKb,oBAAxH;AAA8I,MAAA,WAAW,EAAC,eAA1J;AAA0K,MAAA,OAAO,EAAE,CAAC;AAACN,QAAAA,GAAG,EAAE,CAAN;AAASE,QAAAA,IAAI,EAAE;AAAf,OAAD,EAA6B;AAACF,QAAAA,GAAG,EAAE,CAAN;AAASE,QAAAA,IAAI,EAAE;AAAf,OAA7B,CAAnL;AAA6O,MAAA,MAAM,EAAE;AAAE2B,QAAAA,QAAQ,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT;AAAZ,OAArP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,UAAjB;AAA4B,MAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWiB,MAA9C;AAAsD,MAAA,QAAQ,EAAE,KAAKD,eAArE;AAAsF,MAAA,MAAM,EAAE;AAAEuB,QAAAA,UAAU,EAAE;AAAED,UAAAA,KAAK,EAAE;AAAT;AAAd,OAA9F;AAA8H,MAAA,IAAI,EAAC,QAAnI;AAA4I,MAAA,YAAY,EAAC,KAAzJ;AAA+J,MAAA,QAAQ,MAAvK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAE,KAAKpB,aAA7B;AAA4C,MAAA,KAAK,EAAE;AAACsB,QAAAA,SAAS,EAAE;AAAZ,OAAnD;AAAuE,MAAA,QAAQ,EAAE,KAAjF;AAAwF,MAAA,IAAI,EAAC,SAA7F;AAAuG,MAAA,IAAI,EAAC,QAA5G;AAAqH,MAAA,kBAAkB,EAAE,IAAzI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF,CADF;AAUD;;AAjF+C;AAoFlD,MAAMN,MAAM,GAAG;AACbC,EAAAA,UAAU,EAAE;AACVM,IAAAA,OAAO,EAAE,MADC;AAEVC,IAAAA,cAAc,EAAE,QAFN;AAGVC,IAAAA,OAAO,EAAE,MAAM;AAHL,GADC;AAMbP,EAAAA,KAAK,EAAE;AACLK,IAAAA,OAAO,EAAE,MADJ;AAELG,IAAAA,aAAa,EAAE,QAFV;AAGLN,IAAAA,KAAK,EAAE,KAAK,IAHP;AAILK,IAAAA,OAAO,EAAE,IAAI;AAJR;AANM,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { Dropdown } from 'office-ui-fabric-react/lib/Dropdown';\nimport axios from 'axios';\n\nexport default class NewDeposit extends Component {\n  constructor() {\n    super();\n    this.state = {\n      customer: undefined,\n      opacity: 0,\n      paymentType: undefined,\n      amount: 0\n    }\n  }\n\n  componentDidMount() {\n    this._fadeIn();\n  }\n\n  _fadeIn = () => {\n    let fi = setInterval(() => {\n      this.setState({\n        opacity: this.state.opacity + 0.1\n      })\n    }, 30);\n    setTimeout(() => {\n      this.setState({\n        opacity: 1\n      });\n      clearInterval(fi);\n    }, 300);\n  }\n\n  _getCustomers = () => {\n    let customers = this.props.customers.map(customer => (\n      {key: customer.customer_id, text: customer.customer_name}\n    ));\n    return customers;\n  }\n\n  _onCustomerChange = (e, customer) => {\n    this.setState({\n      customer: customer.key\n    });\n  }\n\n  _onPaymentTypeChange = (e, paymentType) => {\n    this.setState({\n      paymentType: paymentType.key\n    })\n  }\n\n  _onAmountChange = (e, amount) => {\n    this.setState({\n      amount: amount\n    })\n  }\n\n  _handleSubmit = () => {\n    axios.post('http://localhost:8000/deposits', {deposit_date: new Date(), payment_type: this.state.paymentType, customer: this.state.customer, ammount: this.state.amount})\n    .then(response => {\n      this.props._showAlert('Agregado correctamente', 'Notificación');\n      this.setState({\n        customer: undefined,\n        paymentType: undefined,\n        amount: 0\n      });\n      console.log(response);\n    })\n    .catch(error => {\n      console.error(error);\n    });\n  }\n\n  render() {\n    return (\n      <div style={styles.newDeposit}>\n        <Paper style={{...styles.panel, opacity: this.state.opacity}}>\n          <Dropdown label=\"Cliente\" selectedKey={this.state.customer ? this.state.customer : undefined} onChange={this._onCustomerChange} placeholder=\"Selecciona...\" options={this._getCustomers()} styles={{ dropdown: { width: 300 } }}/>\n          <Dropdown label=\"Tipo de pago\" selectedKey={this.state.paymentType ? this.state.paymentType : undefined} onChange={this._onPaymentTypeChange} placeholder=\"Selecciona...\" options={[{key: 0, text: 'Efectivo'}, {key: 1, text: 'Depósito'}]} styles={{ dropdown: { width: 300 } }}/>\n          <TextField label=\"Cantidad\" value={this.state.amount} onChange={this._onAmountChange} styles={{ fieldGroup: { width: 300 } }} type=\"number\" autoComplete=\"off\" required/>\n          <PrimaryButton onClick={this._handleSubmit} style={{marginTop: '2em'}} disabled={false} text=\"Agregar\" type=\"submit\" allowDisabledFocus={true}/>\n        </Paper>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  newDeposit: {\n    display: 'flex',\n    justifyContent: 'center',\n    padding: 1.5 + 'em'\n  },\n  panel: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: 19 + 'em',\n    padding: 1 + 'em'\n  }\n}"]},"metadata":{},"sourceType":"module"}